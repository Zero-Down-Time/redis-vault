redis:
  # Redis connection string
  connection_string: "redis://localhost:6379"

  # Path to Redis data directory containing dump.rdb
  data_path: "/data"

  # Unique name for this Redis node
  node_name: "redis-master-01"

  # Backup configuration based on Redis role
  backup_master: true      # Backup if this node is a master
  backup_replica: false    # Backup if this node is a replica

backup:
  # Storage URL for backups
  # S3: s3://bucket-name/prefix/
  # GCS: gs://bucket-name/prefix/
  storage_url: "s3://my-redis-vault/production/redis/"

  # Interval between backup checks
  # Supports formats like: 30s, 5m, 1h, 6h, 1d
  interval: "1h"

  # Filename of the Redis dump file
  dump_filename: "dump.rdb"

  # Initial delay before starting backups (allows Redis replication to stabilize)
  # Supports formats like: 30s, 5m, 10m
  initial_delay: "300s"

retention:
  # Number of recent backups to keep
  keep_last: 7

  # Keep backups newer than this duration
  # Supports formats like: 7d, 30d, 1w
  keep_duration: "30d"

logging:
  # Log format: "text" or "json"
  format: "text"

  # Application log level: trace, debug, info, warn, error
  # Note: Default log level for other crates is set to "warn"
  # Use RUST_LOG environment variable to override all log levels
  level: "info"

metrics:
  # Enable Prometheus metrics endpoint
  enabled: false

  # Port for metrics server
  port: 9090

  # Listen address for metrics server
  listen_address: "0.0.0.0"
